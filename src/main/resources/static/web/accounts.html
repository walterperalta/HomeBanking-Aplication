<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accounts</title>
    <link rel="stylesheet" href="../styles/estilos_generales.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<body>
    
    <div id="app">
        <header class="d-flex justify-content-around align-items-center mt-3">
            <img class="img-fluid col-4 align-self-end"  src="../attachments/logo (12) - copia.png">
            <div class="col-3 align-self-end d-flex justify-content-around align-items-center">
              <span id="nombre" class="fw-bold text-light">Bienvenido/a  {{cliente.firstName}} {{cliente.lastName}} </span>
              <img class="avatar" src="../attachments/Captura.png"/>
              <button type="button" @click="logout" class="btn text-light fw-bold btn-regular">Logout</button>
            </div>
        </header>
        <main class="d-flex justify-content-center align-items-streched p-3 row">
            <div class="container d-flex row justify-content-start">
                <nav class ="navbar col-3 d-flex align-items-start">
                    <ul class ="nav navbar-nav">
                        <h4 class="text-light">Tu Cuenta</h4>
                        <li class ="nav-item">
                            <a class ="nav-link fw-bold" href="#">Saldo</a>
                        </li>
                        <li class ="nav-item">
                            <a class ="nav-link" href="../web/loan-application.html">Préstamos</a>
                        </li>
                        <li class ="nav-item">
                            <a class ="nav-link" href="./cards.html">Tarjetas</a>
                        </li>
                        <li class ="nav-item">
                            <a class ="nav-link" href="./transfers.html">Transfers</a>
                        </li>
                    </ul>
                </nav>
                <!-- <div class="loader-container" id="loader-container">
                    <div class="loading">
                        <span></span>
                        <span></span>
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                  </div> -->
                <div class="col-9 d-flex row justify-content-center" style="display:none;" id="main">
                    <div class="col-12 d-flex flex-wrap justify-content-start">
                        <div class="col-4 p-1" v-for="cuenta in cuentas">
                            <div class="card d-flex justify-content-center">
                                <p class="fw-bold">N° cuenta:{{cuenta.number}}</p>
                                <p class="fw-bold">Tipo: {{cuenta.type}}</p>
                                <h2 class="card-title">$ {{cuenta.balance}}</h2>
                                <button class="btn btn-regular col-11 text-light" @click="verMovimientos(cuenta.id)">Movimientos</button>
                                <button class="btn btn-light col-11 text-success" @click="eliminar(cuenta.id)">Eliminar Cuenta</button> 
                            </div>    
                        </div>
                    </div>
                    <div class="col-12 d-flex column justify-content-center ">
                        <!-- <button class="btn btn-light m-2" @click="crearCuenta(AHORRO)">Crear Caja Ahorro</button> 
                        <button class="btn btn-light m-2" @click="crearCuenta(CORRIENTE)">Crear Cuenta Corriente</button>  -->
                        <p class="text-danger" v-if="erro">No se puede crear mas cuentas</p>       
                    </div>
                    <div v-if="prestamos.length === 0" class="col-12 d-flex justify-content-center row">
                        <h2 class="col-8 text-center text-light"> No posee historial de prestamos</h2>
                    </div>
                    <div v-else class="col-12 d-flex justify-content-center row mt-1">
                        <h2 class="text-center text-light"> Historial de Prestamos</h2>
                        <table class="table table-hover p-3">
                            <thead>
                                <tr>
                                    <th scope="col">Tipo</th>
                                    <th scope="col">Monto</th>
                                    <th scope="col">Cuotas</th>
                                </tr>
                            </thead>
                            <tbody>
                               <tr v-for="loan in cliente.loans">
                                    <td>{{loan.name}}</td>
                                    <td>$ {{loan.amount}}</td>
                                    <td>{{loan.payments}}</td>
                               </tr>
                            </tbody>
                        </table>   
        
                    </div> 
                </div>
            </div>       
        </main>
        <!-- <footer class="d-flex justify-content-center text-light align-items-center">
            <p>HomeBanking | Peralta Walter 2022</p>
        </footer> -->
    </div>
    <script src="https://unpkg.com/vue@3"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="../scripts/cuentas.js"></script>
</body>
</html>