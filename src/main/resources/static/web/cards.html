<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cards</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="../styles/estilos_generales.css">
</head>
<body>
    <div id="app">
        <header class="d-flex justify-content-around align-items-center mt-3">
            <img class="img-fluid col-4 align-self-end"  src="../attachments/logo (12) - copia.png">
            <div class="col-3 align-self-end d-flex justify-content-around align-items-center">
              <span id="nombre" class="fw-bold text-light">Bienvenido/a  {{cliente.firstName}} {{cliente.lastName}} </span>
              <img class="avatar" src="../attachments/Captura.png"/>
              <button type="button" @click="logout" class="btn text-light fw-bold btn-regular">Logout</button>
            </div>
        </header>
        <main class="d-flex justify-content-center align-items-streched p-3 row">
            <div class="container d-flex row justify-content-start">
                <nav class ="navbar col-3 d-flex align-items-start">
                    <ul class ="nav navbar-nav">
                        <h4 class="text-light">Tu Cuenta</h4>
                        <li class ="nav-item">
                            <a class ="nav-link" href="./accounts.html">Saldo</a>
                        </li>
                        <li class ="nav-item">
                            <a class ="nav-link" href="../web/loan-application.html">Pr√©stamos</a>
                        </li>
                        <li class ="nav-item">
                            <a class ="nav-link" href="#">Tarjetas</a>
                            <ul class ="nav navbar-nav ms-1">
                                <li>
                                    <button class="btn text-light" @click="crearTarjeta">Solicitar tarjetas</button> 
                                </li>
                            </ul>
                        </li>
                        <li class ="nav-item">
                            <a class ="nav-link" href="./transfers.html">Transfers</a>
                        </li>
                    </ul>
                </nav>
                <div class="col-9 d-flex row justify-content-center p-2" id="main">
                    <div v-if="debito.length !== 0" class="d-flex row p-2">
                        <h3>Debito</h3>
                        <div class="d-flex row justify-content-center p-1" v-for="card in debito">
                            <div class="card-platinium d-flex row pb-3 justify-content-between">
                                <img class="img-fluid col-7 align-self-center"  src="../attachments/logo (12) - copia.png">
                                <h2 class="card-color col-5 text-end">{{card.color}}</h2>    
                                <div class="card-number col-12">{{card.number}}</div>
                                <div class="col-8 d-flex row">
                                    <div class="card-date col-5">VALID FROM {{card.fromDate}}</div>
                                    <div class="card-date col-5" >UNTIL END {{card.thruDate}}</div>
                                    <div class="card-owner mt-2">{{card.cardHolder}}</div>
                                </div>
                                <img class="img-fluid visa col-4 align-self-center" src="../attachments/logo-visa.png" alt="visa">
                            </div> 
                            <div class="d-flex justify-content-between">
                                <p v-if="card.thruDate < hoy" class="text-warning "> Tarjeta vencida</p>    
                                <button class="btn btn-light m-2" @click="eliminar(card.id)">Eliminar tarjeta</button> 
                            </div>       
                        </div>
                    </div>
                    <div v-if="credito.length !== 0">
                        <h3 class="pt-3">Credito</h3>
                        <div class="d-flex row justify-content-center p-1" v-for="card in credito">
                            <div class="card-platinium d-flex row pb-3 justify-content-between">
                                <img class="img-fluid col-7 align-self-center"  src="../attachments/logo (12) - copia.png">
                                <h2 class="card-color col-5 text-end">{{card.color}}</h2>    
                                <div class="card-number col-12">{{card.number}}</div>
                                <div class="col-8 d-flex row">
                                    <div class="card-date col-5">VALID FROM {{card.fromDate}}</div>
                                    <div class="card-date col-5">UNTIL END {{card.thruDate}}</div>
                                    <div class="card-owner mt-2">{{card.cardHolder}}</div>
                                </div>
                                <img class="img-fluid visa col-4 align-self-center" src="../attachments/logo-visa.png" alt="visa">
                            </div>   
                            <div class="d-flex justify-content-end">
                                <p v-if="card.thruDate < hoy" class="text-warning "> Tarjeta vencida</p>    
                                <button class="btn btn-light m-2" @click="eliminar(card.id)">Eliminar tarjeta</button> 
                            </div>       
      
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="https://unpkg.com/vue@3"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="../scripts/cards.js"></script>
</body>
</html>